Metadata-Version: 2.1
Name: genai_app
Version: 1.0.0
Summary: A GenAI filtering application.
Author-email: Charan <charan.datascientist@gmail.com>
License: MIT
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: fuzzy_match==0.0.1
Requires-Dist: pytest>=7.4.0
Requires-Dist: urllib3>=1.26.0

# **GenAI Filtering Application**

## **Overview**
The **GenAI Filtering Application** is a Python-based project designed to process and enhance natural language queries for retail analytics. It uses fuzzy matching techniques to infer and correct filtering parameters based on predefined choices. This system processes natural language into structured key-value pairs, ensuring accuracy and reliability in downstream analytics workflows. The project emphasizes modularity, performance optimization, and ease of maintenance.

---

## **Libraries**
The project leverages the following libraries:
- **fuzzy_match**: For performing lexical matching on input keys and values.
- **pytest**: For unit testing and ensuring code reliability.
- **urllib3**: For handling HTTP requests, specifically for fetching external choice data.
- **setuptools**: For packaging and building the application.
- **wheel**: For creating distributable Python wheels.

---

## **Project Structure**
The project is structured for clarity and modularity:

```plaintext
genai_app/                   # Root directory
├── genai_app/               # Main package
│   ├── __init__.py          # Package initializer
│   ├── genai_output.py      # Handles GenAI output processing
│   ├── config.py            # Configuration settings (thresholds, methods, etc.)
│   ├── choices.py           # Handles choice data fetching and preprocessing
│   ├── utils/               # Utility modules
│   │   ├── __init__.py
│   │   ├── matcher.py       # Fuzzy matching and key-value inference
│   │   ├── logger.py        # Logging setup
├── tests/                   # Test suite
│   ├── __init__.py          # Optional for pytest
│   ├── test_genai_output.py # Tests for genai_output.py
│   ├── test_matcher.py      # Tests for matcher.py
│   ├── test_config.py       # Tests for configuration
│   ├── test_choices.py      # Tests for choices.py
├── setup.py                 # Packaging configuration
├── pyproject.toml           # Build configuration
├── README.md                # Project documentation
├── LICENSE                  # License file
├── requirements.txt         # Dependency list

```

---

##  **Build & Installation Process**

## **Prerequisites**
- Python 3.7 or higher
- `pip` package manager

## **Steps**
1. Clone the repository:
   ```bash
   git clone https://github.com/charan-datascientist/Goodworkai.git
   cd Goodworkai
   ```

2. **Install dependencies**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Build the package**:
   ```bash
   python -m build
   ```

4. **Install the package locally**:
   ```bash
   pip install dist/genai_app-1.0.0-py3-none-any.whl
   ```

---

# **How to Run & Test in Local**

## **Run the Application**
To run the application, invoke the main script:

```bash
python -m genai_app.main
```

## **Test the Application**
Navigate to the project root and run `pytest`:

```bash
cd genai_app
pytest tests/
```

---

# **Pytest Process: What Tests Are Covered?**

1. **`test_genai_output.py`**:
   - Validates the `get_genai_output` function for recognized and unrecognized scenario IDs.

2. **`test_matcher.py`**:
   - Tests the `infer_key` function for both recognized and unrecognized keys.
   - Includes edge cases for threshold mismatches.

3. **`test_config.py`**:
   - Ensures configuration settings (`CONFIG` and `SCENARIOS`) are correctly structured.

4. **`test_choices.py`**:
   - Validates the `get_choice_data` function to ensure it fetches and parses external data correctly.
   - Tests `preprocess_choices` for proper preprocessing logic.

---

# **Enhancements: Steps for CICD using GitHub Actions**

## **Steps**
1. **Create a GitHub Actions Workflow File**:  
   Create `.github/workflows/ci.yml` in the repository.

2. **Pseudo Code for the Workflow**:

   ```yaml
   name: CI/CD Pipeline

   on:
     push:
       branches:
         - main
     pull_request:
       branches:
         - main

   jobs:
     build:
       runs-on: ubuntu-latest
       steps:
         - name: Checkout Code
           uses: actions/checkout@v3

         - name: Set Up Python
           uses: actions/setup-python@v4
           with:
             python-version: "3.12"

         - name: Install Dependencies
           run: |
             pip install -r requirements.txt
             pip install build

         - name: Run Tests
           run: pytest tests/

         - name: Build Package
           run: python -m build
   ```

3. **Push Workflow to GitHub**:  
   Commit and push the `.github/workflows/ci.yml` file.

---

# **Optimization & Performance Improvement Compared to Base Version**

## **Base Version**
The initial implementation relied on a less efficient approach for processing and inferring key-value pairs:
- Non-optimal loops for matching keys and values.
- No caching or preprocessing for choices data.
- Lack of modularity in the design.

## **Optimized Version**
- **Preprocessing Choices Data**:
  - Improved preprocessing logic in `choices.py` to reduce runtime overhead during inference.
  - Implemented a cache with timeout (default: 1 hour) to reduce redundant HTTP calls while ensuring data freshness

- **Enhanced Matching Logic**:
  - Introduced a modular `matcher.py` with reusable functions.
  - Leveraged faster matching algorithms for large datasets.

- **Performance Gains**:
  - Reduced matching time by ~40% in complex scenarios.
  - Enhanced scalability with modular utilities.

---

# **What We Have Done for Modularity, Readability, and Maintainability**

1. **Modularity**:
   - Organized core logic into separate modules (`genai_output`, `choices`, `matcher`, etc.).
   - Created a `utils` package for reusable utility functions.

2. **Readability**:
   - Adopted PEP 8 coding standards.
   - Used meaningful function names and added comments where necessary.

3. **Maintainability**:
   - Added a robust test suite using `pytest`.
   - Centralized configuration in `config.py`.
   - Built a modular project structure to allow future enhancements without disrupting existing functionality.
```
